<!DOCTYPE html>
{% load static %}

<head>

    <!-- Fonts CDN -->
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous" />


    <link href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet">

    <link crossorigin="anonymous"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.css"
        integrity="sha512-63+XcK3ZAZFBhAVZ4irKWe9eorFG0qYsy2CaM5Z+F3kUn76ukznN0cp4SArgItSbDFD1RrrWgVMBY9C/2ZoURA=="
        rel="stylesheet" />
    <link crossorigin="anonymous"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css"
        integrity="sha512-aEe/ZxePawj0+G2R+AaIxgrQuKT68I28qh+wgLrcAJOz3rxCP+TwrK5SPN+E5I+1IQjNtcfvb96HDagwrKRdBw=="
        rel="stylesheet" />
    <link crossorigin="anonymous"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker-standalone.css"
        integrity="sha512-2e0Kl/wKgOUm/I722SOPMtmphkIjECJFpJrTRRyL8gjJSJIP2VofmEbqyApMaMfFhU727K3voz0e5EgE3Zf2Dg=="
        rel="stylesheet" />
    <link crossorigin="anonymous"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker-standalone.min.css"
        integrity="sha512-tjNtfoH+ezX5NhKsxuzHc01N4tSBoz15yiML61yoQN/kxWU0ChLIno79qIjqhiuTrQI0h+XPpylj0eZ9pKPQ9g=="
        rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">


    <style>
        * {
            box-sizing: border-radius;
            font-family: "poppins" !important;
        }

        .l-line {
            margin-left: 20px;
            transform: rotate(350deg);

        }

        .r-line {
            margin-right: 20px;
            transform: rotate(10deg);

        }

        body {
            font-size: 13px;
            font-family: "poppins" !important;
            /*min-height: 400px;
             /* Added as bugfix */
            overflow-x: hidden;
            overflow-y: visible;
        }

        .fs-small {
            font-size: 8px;
        }

        .add-on:hover {
            transform: scale(1.2);
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: ease-out 0.2s;
        }

        :root {
            --background-color: #eeeef5;
            --primary: #065697;
            --primary-hover: #065697;
        }

        .bd {
            border: solid red 1px !important;
        }

        a {
            cursor: pointer;
        }

        a:hover {
            color: inherit;
        }

        .pointer {
            cursor: pointer;
        }

        img {
            object-fit: cover;
        }

        .text-justify {
            text-align: justify;
        }


        .btn-primary {
            background-color: var(--primary);
            font-size: 14px;
            border-color: var(--primary);
            color: #fff;
            outline: none !important;
        }

        .btn-primary:hover,
        .btn-primary:focus,
        .btn-primary:active {
            background-color: transparent;
            border-color: var(--primary-hover);
            color: #065697;
            outline: 0px !important;
        }

        .btn-primary-outline {
            background-color: transparent;
            border-color: var(--primary);
            color: var(--primary);
            outline: 0px !important;
        }

        .btn-primary-outline:hover,
        .btn-primary-outline:focus,
        .btn-primary-outline:active {
            background-color: var(--primary);
            border-color: var(--primary);
            color: #ffffff;
            outline: 0px !important;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        .opp-type-select{
            height: 30px;
            text-align:center;
        }

        select{
            height: 30px;
        }

        canvas {
            display: block;
            /* vertical-align: bottom; */
          }
      
        #tsparticles {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
          }

          .confetti-div {
            overflow-y: auto;
            min-height: 575px;
         }

          button:disabled{
          background: #9EBDD5 !important;
          border: none;
         }
    </style>
</head>


<body class="bg-white">
    <div class="confetti-div">

    <div id="loader" style="display: none;">
        {% include "common_form/loader.html" %}    
    </div>
    <div id="demo" class="p-4">

        <div class=" d-flex justify-content-between align-items-center" id="back_button">
            <img src="https://fs.hubspotusercontent00.net/hub/21128156/hubfs/Interface-dark-logo.png?width=108&height=108"
                width="45">

            <b class="text-decoration-underline text-dark pointer"><i class="iconify"
                    data-icon="material-symbols:arrow-back-rounded"> </i> <a
                    onclick="showLoaderOnClick('{% url 'list_view' %}?context={{context_data}}&signature={{signature}}')"
                  > Go back </a></b>
        </div>

        <hr class="hr">

        <div class=" d-flex justify-content-center text-center mb-2">
            <div>
                <b class="fs-6">Create New Opportunities</b>
                <p>Select the Stage</p>
            </div>
        </div>

        <form method="POST" class="mb-5" action="{% url 'one_click_emb_app' %}?opp_request_type=create_new_opportunity&context={{context_data}}&signature={{signature}}">
            
        <input hidden name="domain" value="{{domain}}">
        <input type="text" name="opp_request_type" value="create_new_opportunity" hidden>
        <input type="text" name="fub_person_id" value="{{fub_person_id}}" hidden>
            <div class="opp-type-select mb-3">
                <!-- <label class="">Opportunity Type:</label> -->
                <select id="opp_type" name="opp_type" required >
                    <option selected disabled>Select Opportunity Type</option>
                    <option value="Buyer">Buyer</option>
                    <option value="Seller">Seller</option>
                </select>
            </div>
            <div class="d-flex">
                
                <img height="300" class="l-line" src="{% static 'img/line.png' %}">
                <div class="form-actions col form-group text-center">

                    <p>
                            <button class="btn btn-primary col-12 center-btn" type="submit" name="new_opp_stage" value="Pipeline" onclick="showLoaderOnClick('success?success=1&context={{context_data}}&signature={{signature}}')">Pipeline
                            </button>
                    </p>
                    <p>
                            <button class="btn btn-primary col-11 center-btn" type="submit" name="new_opp_stage" value="Appointment Set" onclick="showLoaderOnClick('success?success=1&context={{context_data}}&signature={{signature}}')">Appointment Set
                            </button>
                    </p>
                    <p>
                            <button class="btn btn-primary col-10 center-btn" type="submit" name="new_opp_stage" value="Appointment Met" onclick="showLoaderOnClick('success?success=1&context={{context_data}}&signature={{signature}}')">Appointment Met
                            </button>
                    </p>
                    <p>
                            <button class="btn btn-primary col-9 center-btn" type="submit" name="new_opp_stage" value="Agreement Signed" onclick="showLoaderOnClick('success?success=1&context={{context_data}}&signature={{signature}}')">Agreement Signed
                            </button>
                    </p>
                    <p>
                            <button class="btn btn-primary col-8 center-btn" type="submit" name="new_opp_stage" value="Pending" onclick="showLoaderOnClick('success?success=1&context={{context_data}}&signature={{signature}}')">Pending
                            </button>
                    </p>
                    <p>
                            <button class="btn btn-primary col-7 center-btn closed-button" type="submit" name="new_opp_stage" value="Closed">Closed
                            </button>
                    </p>
                </div>

                <img height="300" class="r-line" src="{% static 'img/line.png' %}" alt="line">


            </div>


        </form>

        <!-- <hr class="hr"> -->
        <div class="mt-4 mb-4 d-flex flex-column justify-content-center align-items-center">
            <img src="https://datalabz.re/static/images/interface_logo.png" width="180">
            <a href="https://knowledge.interface.re/fub-embedded-app-documentation" target="_blank"
                class="text-decoration-underline text-dark mt-2">Learn more about InterFace</a>
        </div>

    </div>

</div>

    <script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
    <!-- Iconify icons -->
    <script src="https://code.iconify.design/1/1.0.6/iconify.min.js"></script>
    <!-- Bootstrap JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        crossorigin="anonymous"></script>
    <script src="https://eia.followupboss.com/embeddedApps-v1.0.0.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="{% static 'js/conditionize.flexible.jquery.js' %}"></script>
    <script src="../../static/js/conditionize.flexible.jquery.js"></script>
    <script>

        function showLoader() {
            document.getElementById('demo').style.display = "none";
            document.getElementById('loader').style.display = "block";
        }
        var timeout;
    
        function sleep(delay, url) {
            if (timeout) {
                clearTimeout(timeout);
            }
            timeout = setTimeout(function () {
                window.location.href = url;
            }, delay);
        }
    
        function showLoaderOnClick(url) {
            showLoader();
            sleep(500, url);
        }
        
    </script>
    <script>
      $(document).ready(function (){
        validate();
        $('#opp_type').change(validate);
    });
    
    function validate(){
        if ($('#opp_type').val() && $('#opp_type').val().length > 0 ) {
            $("button[type=submit]").prop("disabled", false);
        }
        else {
            $("button[type=submit]").prop("disabled", true);
        }
    }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@1.30.3/tsparticles.min.js"></script>
    <script>
      $(".closed-button").click(function () {
      $(".confetti-div").attr('id', 'tsparticles');
      $("body").attr('id', 'tsparticles');
      tsParticles.load("tsparticles", {
        "emitters": [
          {
            "position": {
              "x": 0,
              "y": 30
            },
            "rate": {
              "quantity": 50,
              "delay": -15
            },
            "particles": {
              "move": {
                "direction": "top-right",
                "outModes": {
                  "top": "none",
                  "left": "none",
                  "default": "destroy"
                }
              }
            }
          },
          {
            "position": {
              "x": 100,
              "y": 90
            },
            "rate": {
              "quantity": 50,
              "delay": -15
            },
            "particles": {
              "move": {
                "direction": "top-left",
                "outModes": {
                  "top": "none",
                  "right": "none",
                  "default": "destroy"
                }
              }
            }
          }
        ],
        "particles": {
          "color": {
            "value": ["#11FeFF",
              "#FFd700",
              "#78ff44",
              "#ff718d",
              "#a864fd",
            ]
          },
          "move": {
            "decay": 0.05,
            "direction": "top",
            "enable": true,
            "gravity": {
              "enable": true
            },
            "outModes": {
              "top": "none",
              "default": "destroy"
            },
            "speed": {
              "min": 30,
              "max": 80
            }
          },
          "number": {
            "value": 0
          },
          "opacity": {
            "value": 1
          },
          "rotate": {
            "value": {
              "min": 0,
              "max": 360
            },
            "direction": "random",
            "animation": {
              "enable": true,
              "speed": 30
            }
          },
          "tilt": {
            "direction": "random",
            "enable": true,
            "value": {
              "min": 0,
              "max": 360
            },
            "animation": {
              "enable": true,
              "speed": 30
            }
          },
          "size": {
            "value": {
              "min": 1,
              "max": 2
            },
            "animation": {
              "enable": true,
              "startValue": "min",
              "count": 1,
              "speed": 16,
              "sync": true
            }
          },
          "roll": {
            "darken": {
              "enable": true,
              "value": 25
            },
            "enable": true,
            "speed": {
              "min": 5,
              "max": 15
            }
          },
          "wobble": {
            "distance": 30,
            "enable": true,
            "speed": {
              "min": -7,
              "max": 7
            }
          },
          "shape": {
            "type": [
              "circle",
              "square",
              "triangle",
              "polygon",
              "image"
            ],
            "options": {
              "polygon": [
                {
                  "sides": 5
                },
                {
                  "sides": 6
                }
              ],
              "image": [
                {
                  "src": "https://cdn-icons-png.flaticon.com/512/3344/3344853.png",
                  "width": 32,
                  "height": 32,
                  "particles": {
                    "size": {
                      "value": 16
                    }
                  }
                },
                {
                  "src": "https://cdn-icons-png.flaticon.com/512/3344/3344853.png",
                  "width": 32,
                  "height": 32,
                  "particles": {
                    "size": {
                      "value": 16
                    }
                  }
                },
                {
                  "src": "https://cdn-icons-png.flaticon.com/512/3344/3344853.png",
                  "width": 32,
                  "height": 32,
                  "particles": {
                    "size": {
                      "value": 16
                    }
                  }
                },
                {
                  "src": "https://cdn-icons-png.flaticon.com/512/3344/3344853.png",
                  "width": 32,
                  "height": 32,
                  "particles": {
                    "size": {
                      "value": 16
                    }
                  }
                },
              ]
            }
          },
        }
      });
  })
    </script>

</body>