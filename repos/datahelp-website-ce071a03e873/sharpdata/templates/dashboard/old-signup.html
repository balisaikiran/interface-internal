{% load static %}

<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>DataLabz - Signup</title>
    <meta content=" sharpdata login page" name="description">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <link href="https://i.imgur.com/QRAUqs9.png" rel="apple-touch-icon">
    <link href="https://i.imgur.com/QRAUqs9.png" rel="shortcut icon">

    <link href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.0/normalize.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/lykmapipo/themify-icons@0.1.2/css/themify-icons.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/pixeden-stroke-7-icon@1.2.3/pe-icon-7-stroke/dist/pe-icon-7-stroke.min.css"
          rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.0/css/flag-icon.min.css" rel="stylesheet">
    <link href="{%static 'assets/css/cs-skin-elastic.css'%}" rel="stylesheet">
    <link href="{% static 'assets/css/style.css'%}" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Quantico' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800' rel='stylesheet' type='text/css'>

    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <!-- <script type="text/javascript" src="https://cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv.min.js"></script> -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-78898293-3"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'UA-78898293-3');
    </script>
    <style>
        label {
            color: #4c4c4c !important;
            text-transform: capitalize !important;
            font-size: 15px !important;
            /* transform: translate(15px,7px); */
            margin-bottom: 2px;
            /* padding: 1px 3px; */
        }

        /* Chrome, Safari, Edge, Opera */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
        }

        /* Firefox */
        input[type=number] {
        -moz-appearance: textfield;
        }

        input[type=checkbox], input[type=radio] {
            margin-top: 5px;
            margin-right: 10px;
            align-self: flex-start;
        }
    </style>


</head>

<body class="bg-dark">

<div class="sufee-login d-flex align-content-center flex-wrap">
    <div class="container login_container">
        <div class="login-content col-md-6 col-12 m-auto">

            <div class="login-form">
                <div class="login-logo">
                    <a href="/">

<!--                        <h1 style="font-family: 'Quantico'; color:#1d06fb ;font-size: 50px;-->
<!--    font-weight: 600;letter-spacing: 3px;">DataLabz</h1>-->
                         <img class="align-content img-fluid" src="{% static 'images/logo.png'%}" alt="">
                    </a>
                </div>
                <form action="{% url 'create_user' %}" method="POST">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="team_id">Team Id</label>
                        <span class="hide pull-right block-help" id="popover-team-yes" style="display: none;"><i
                                aria-hidden="true" class="fa fa-info-circle text-success"></i> Available</span>
                        <span class="hide pull-right block-help" id="popover-team-no" style="display: none;"><i
                                aria-hidden="true" class="fa fa-info-circle text-danger"></i> Not Available</span>

                        <input onkeyup="validateExuser()" class="form-control" id="team_id" name="team_id" placeholder="Team_ID" required=""
                               type="text"/>
                        <span class="hide block-help text-warning" id="popover-team-length" style="display: none;"><i
                                aria-hidden="true" class="fa fa-info-circle text-warning"></i></span>
                        <small>This will be your team id (only alphanumeric and underscore are allowed with minimum 3 character and maximum 15 character) and it cannot be changed in
                            future</small>
                    </div>
                    <div class="form-group">

                        <label for="organization_name">Organization Name</label>
                        <input class="form-control" id="organization_name" name="organization_name" placeholder="Organization Name"
                               required=""
                               type="text"/>
                    </div>
                    <div class="form-group">

                        <label for="user_firstName">First Name</label>
                        <input class="form-control" id="user_firstName" name="user_firstName" placeholder="First Name"
                               required=""
                               type="text"/>
                    </div>
                    <div class="form-group">
                        <label for="user_lastName">Last Name</label>
                        <input class="form-control" id="user_lastName" name="user_lastName" placeholder=" Last Name"
                               required=""
                               type="text"/>
                    </div>
                    <label for="">Contact Number</label>
                    <span class="hide pull-right block-help" id="popover-cnumber" style="display: none;"><i
                            aria-hidden="true" class="fa fa-info-circle text-danger"></i> Invalid Phone Number</span>
                    <div class="row">

                        <div class="col-md-5 col-5">

                            <div class="form-group">

                                <select class="form-control" name="country_code">
                                    <option data-countryCode="US" selected value="1">USA (+1)</option>
                                    <option data-countryCode="CA" value="1">Canada (+1)</option>

                                </select>
                            </div>
                        </div>
                        <div class="col-7">
                            <div class="form-group">
                                <input class="form-control" id="user_phone" maxlength="10" name="user_phone"
                                       placeholder="Phone Number"
                                       required="" type="number" onkeydown="javascript: return event.keyCode === 8 ||
                                       event.keyCode === 46 || event.keyCode === 9 ? true : !isNaN(Number(event.key))">
                            </div>
                        </div>
                    </div>
                    <!-- <div class="form-group">
                      <label>Select Plan Type : </label>
                    </div>
                    <div class="form-group">
                      <input value=true type="checkbox" name="planFubTwillio" id="planFubTwillio"
                        onclick='planFubTwillioClick(this);'> FUB + Twillio <a target="_blank" href="../../twillio_agreement"> (User Agreement <i class="fa fa-external-link" aria-hidden="true"></i>)</a>

                    </div>
                    <div class="form-group">
                      <input value=true type="checkbox" name="planFubSisu" id="planFubSisu" onclick='planFubSisuClick(this);'>
                      FUB + Sisu <a target="_blank"  href="../../sisu_fub_agreement"> (User Agreement <i class="fa fa-external-link" aria-hidden="true"></i>)</a>

                    </div>
                    <div class="form-group">
                      <input value=true type="checkbox" name="planFubReport" id="planFubReport" onclick='planFubReportClick(this);'>
                      FUB Reports <a target="_blank"  href="../../fub_report_agreement"> (User Agreement <i class="fa fa-external-link" aria-hidden="true"></i>)</a>

                    </div>
                    <div class="form-group">
                      <small>
                        Note: By selecting the above plans you will be accepting the user agreements listed next to each plan
                      </small>
                    </div> -->
                    <!-- <div class="form-group">
                        <label for="address">Address</label>
                        <span class="hide pull-right block-help" id="popover-email" style="display: none;"><i
                                aria-hidden="true"
                                class="fa fa-info-circle text-danger"></i> Enter a valid address</span>
                        <input class="form-control" id="address" maxlength="50" name="address" placeholder="Address"
                               required="" type="text"/>
                    </div>
                    <div class="form-group">
                        <label for="city">City</label>
                        <span class="hide pull-right block-help" style="display: none;"><i
                                aria-hidden="true" class="fa fa-info-circle text-danger"></i> Enter your City</span>
                        <input class="form-control" id="city" maxlength="20" name="city" placeholder="City" required=""
                               type="text"/>
                    </div>

                    <div class="form-group">
                        <label for="user_email">State</label>
                        <select class="form-control" id="state" name="state" required>
                            <option selected="selected" value="">Select a State</option>
                            <option disabled="disabled"> ------------------ USA -----------------</option>
                            <option value="US-AL">Alabama</option>
                            <option value="US-AK">Alaska</option>
                            <option value="US-AZ">Arizona</option>
                            <option value="US-AR">Arkansas</option>
                            <option value="US-CA">California</option>
                            <option value="US-CO">Colorado</option>
                            <option value="US-CT">Connecticut</option>
                            <option value="US-DE">Delaware</option>
                            <option value="US-DC">District Of Columbia</option>
                            <option value="US-FL">Florida</option>
                            <option value="US-GA">Georgia</option>
                            <option value="US-HI">Hawaii</option>
                            <option value="US-ID">Idaho</option>
                            <option value="US-IL">Illinois</option>
                            <option value="US-IN">Indiana</option>
                            <option value="US-IA">Iowa</option>
                            <option value="US-KS">Kansas</option>
                            <option value="US-KY">Kentucky</option>
                            <option value="US-LA">Louisiana</option>
                            <option value="US-ME">Maine</option>
                            <option value="US-MD">Maryland</option>
                            <option value="US-MA">Massachusetts</option>
                            <option value="US-MI">Michigan</option>
                            <option value="US-MN">Minnesota</option>
                            <option value="US-MS">Mississippi</option>
                            <option value="US-MO">Missouri</option>
                            <option value="US-MT">Montana</option>
                            <option value="US-NE">Nebraska</option>
                            <option value="US-NV">Nevada</option>
                            <option value="US-NH">New Hampshire</option>
                            <option value="US-NJ">New Jersey</option>
                            <option value="US-NM">New Mexico</option>
                            <option value="US-NY">New York</option>
                            <option value="US-NC">North Carolina</option>
                            <option value="US-ND">North Dakota</option>
                            <option value="US-OH">Ohio</option>
                            <option value="US-OK">Oklahoma</option>
                            <option value="US-OR">Oregon</option>
                            <option value="US-PA">Pennsylvania</option>
                            <option value="US-RI">Rhode Island</option>
                            <option value="US-SC">South Carolina</option>
                            <option value="US-SD">South Dakota</option>
                            <option value="US-TN">Tennessee</option>
                            <option value="US-TX">Texas</option>
                            <option value="US-UT">Utah</option>
                            <option value="US-VT">Vermont</option>
                            <option value="US-VA">Virginia</option>
                            <option value="US-WA">Washington</option>
                            <option value="US-WV">West Virginia</option>
                            <option value="US-WI">Wisconsin</option>
                            <option value="US-WY">Wyoming</option>

                            <option disabled="disabled">------------------ Canada ------------------</option>
                            <option value="CA-AB">Alberta</option>
                            <option value="CA-BC">British Columbia</option>
                            <option value="CA-MB">Manitoba</option>
                            <option value="CA-NB">New Brunswick</option>
                            <option value="CA-NL">Newfoundland and Labrador</option>
                            <option value="CA-NS">Nova Scotia</option>
                            <option value="CA-ON">Ontario</option>
                            <option value="CA-PE">Prince Edward Island</option>
                            <option value="CA-QC">Quebec</option>
                            <option value="CA-SK">Saskatchewan</option>
                            <option value="CA-NL">Northwest Territories</option>
                            <option value="CA-YT">Nunavut</option>
                            <option value="CA-YT">Yukon</option>

                            <option disabled="disabled">------------------ Other ------------------</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="zip_code">Zipcode</label>
                        <span class="hide pull-right block-help" id="popover-email" style="display: none;"><i
                                aria-hidden="true"
                                class="fa fa-info-circle text-danger"></i> Enter an valid zipcode</span>
                        <input class="form-control" id="zip_code" maxlength="10" name="zip_code" placeholder="Zip Code"
                               required="" type="text" />  -->
                               <!-- onkeydown="javascript: return event.keyCode === 8 ||
                               event.keyCode === 46 || event.keyCode === 9 ? true : !isNaN(Number(event.key))"/> -->
                    <!-- </div>

                    <div class="form-group">
                        <label for="country">Country</label>
                        <span class="hide pull-right block-help" id="popover-email" style="display: none;"><i
                                aria-hidden="true" class="fa fa-info-circle text-danger"></i> Select your country</span>
                        <select class="form-control" id="country" name="country" required>
                            <option selected="selected" value="">Select a Country</option>
                            <option value="US">United States</option>
                            <option value="CA">Canada</option>
                        </select>
                    </div> -->


                    <div class="form-group">
                        <label for="user_email">Email</label>
                        <span class="hide pull-right block-help" id="popover-a-email" style="display: none;"><i
                            aria-hidden="true" class="fa fa-info-circle text-success"></i> Available</span>
                        <span class="hide pull-right block-help" id="popover-n-email" style="display: none;"><i
                            aria-hidden="true" class="fa fa-info-circle text-danger"></i> Not Available</span>
                        <span class="hide pull-right block-help" id="popover-n-email-rgx" style="display: none;"><i
                                aria-hidden="true" class="fa fa-info-circle text-danger"></i> Invalid Email</span>
                        <input type="email" class="form-control" id="user_email" name="user_email" placeholder="Email"
                               required="" onkeyup="validateExuser()"
                               />
                    </div>

                    <div class="form-group">
                        <label for="fub_user">Are you currently using Follow Up Boss as your CRM?</label>
                        <select class="form-control" id="fub_user" name="fub_user" required>
                            <option selected="selected" value="">Select</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="user_password">Password</label>
                        <p>Should contain 1 Uppercase, 1 lowercase, 1 numeric and 1 symbol</p>
                        <input class="form-control" id="user_password" name="user_password" placeholder="Password"
                               required=""
                               type="password"/>
                    </div>
                    <div id="popover-password">
                        <p>Password : <span id="result"> </span></p>
                        <div class="progress">
                            <div aria-valuemax="100" aria-valuemin="0" aria-valuenow="40"
                                 class="progress-bar progress-bar-success" id="password-strength" role="progressbar" style="width:0%">
                            </div>
                        </div>
                        <ul class="list-unstyled">
                            <li class=""><span class="low-upper-case"><i aria-hidden="true"
                                                                         class="fa fa-file-text"></i></span>&nbsp; 1
                                lowercase &amp; 1 uppercase
                            </li>
                            <li class=""><span class="one-number"><i aria-hidden="true"
                                                                     class="fa fa-file-text"></i></span> &nbsp;1
                                number (0-9)
                            </li>
                            <li class=""><span class="one-special-char"><i aria-hidden="true"
                                                                           class="fa fa-file-text"></i></span>
                                &nbsp;1 Special Character (!@#$%^&*).
                            </li>
                            <li class=""><span class="eight-character"><i aria-hidden="true"
                                                                          class="fa fa-file-text"></i></span>&nbsp; Atleast 8
                                Character
                            </li>
                        </ul>
                    </div>

                    <div class="form-group">
                        <label for="user_confirm_password">Confirm Password</label>
                        <span class="hide pull-right block-help" id="popover-cpassword" style="display: none;"><i
                                aria-hidden="true"
                                class="fa fa-info-circle text-danger"></i> Passwords don't match</span>
                        <span class="hide pull-right block-help" id="popover-cpassword-2" style="display: none;"><i
                                aria-hidden="true" class="fa fa-info-circle text-danger"></i> Password is Invalid</span>
                        <input class="form-control" id="user_confirm_password" name="user_confirm_password"
                               placeholder="Confirm Password"
                               required="" onkeypress="validateExuser()" type="password"/>
                    </div>
                    <div class="text-center mt-3 mb-2">
                        <button class="btn btn-primary submit" disabled id="sign-up" type="submit">Register</button>

                    </div>
                    <p class="text-center">Already a user? Let's
                        <a class="text-primary" href="/secure/login_user">Login</a>
                    </p>
                </form>
            </div>
        </div>
    </div>
</div>
<script crossorigin="anonymous"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-match-height@0.7.2/dist/jquery.matchHeight.min.js"></script>
<script src="{% static 'assets/js/main.js'%}"></script>
<script>
    {% if is_error == '1' %}
    swal({
        title: '{{message_title}}',
        text: '{{message}}',
        icon: 'error',
        confirmButtonText: 'Ok'
    })
    {% endif %}
</script>

<script>
    // Disable space in team id
    $("input#team_id").on({
        keydown: function (e) {
            if (e.which === 32)
                return false;
            if (e.which === 38)
                return false;
        },
        change: function () {
            this.value = this.value.replace(/\s/g, "");
        }
    });
    var validEmail = false;
    var validTeamId = false;
    var validPass = false;
    var validPhone = false;
    function validateExuser(){
            if(validEmail != false && validTeamId != false && validPass != false && validPhone != false){
                $('#sign-up').attr("disabled", false);
            }
            else{
                $('#sign-up').attr("disabled", true);
            }
        }

    $(document).ready(function () {
        // check valid team_id
        $("#team_id").on({
            input: function () {
                $.ajax({
                    method: "get",
                    url: "/secure/check_team?team=" + $("#team_id").val(),
                    dataType: "json"
                }).done(function (data) {
                    // Using .map method to retrieve data from array
                    $.map(data, function (user, i) {
                        // Using .append to insert data in the DOM
                        validTeamId = user;
                        if (user == false) {
                            validTeamId = false
                            $('#popover-team-no').css('display', "block");
                            $('#popover-team-yes').css('display', "none");
                            validateExuser()
                        } else {
                            validTeamId = true
                            $('#popover-team-no').css('display', "none");
                            $('#popover-team-yes').css('display', "block");
                            validateExuser()
                        }
                    });
                });
            }
        });
        function emailRegex(email){
            var expr = /^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/;
            return expr.test(email)?true:false
        }

        $("#user_email").on({
            input: function () {
                // Encoding email to prevent misinterpretation of reserved characters by browsers
                var email = `${encodeURIComponent($("#user_email").val())}`
                if(emailRegex($(this).val())){
                    $('#popover-n-email-rgx').css('display', "none");
                    $.ajax({
                    method: "get",
                    url: "/secure/check_email?email=" + email,
                    dataType: "json"
                }).done(function (data) {
                    // Using .map method to retrieve data from array
                    $.map(data, function (user, i) {
                        // Using .append to insert data in the DOM
                        validEmail = user
                        if (user == false) {
                            validEmail = false
                            $('#popover-n-email').css('display', "block");
                            $('#popover-a-email').css('display', "none");

                            validateExuser();
                        } else {
                            validEmail = true
                            $('#popover-n-email').css('display', "none");
                            $('#popover-a-email').css('display', "block");

                            validateExuser();
                        }
                    });
                });
                }
                else{
                    validEmail = false;
                    $('#popover-n-email-rgx').css('display', "block");
                    $('#popover-a-email').css('display', "none");
                    $('#popover-a-email').css('display', "none");
                    validateExuser();
                }
                
            }
        });


        // $('#user_email').blur(function () {
        //     var email = $('#user_email').val();
        //     if (IsEmail(email) == false) {
        //         $('#popover-email').css('display', "block");
        //     } else {
        //         $('#popover-email').css('display', "none");
        //     }
        // });



        $('#user_password').on({input:(function () {
            var password = $('#user_password').val();
            if (checkStrength(password) == false) {
                var a = 1;
            }
        })
        });
        $('#user_confirm_password').on({input:(function () {
            $('#sign-up').attr("disabled", true);
            if ($('#user_password').val() != $('#user_confirm_password').val()) {
                $('#popover-cpassword').css("display", "block");
                validPass = false
            } else {
                validPass = true
                $('#popover-cpassword').css("display", "none");
                if (checkStrength($('#user_password').val()) == false) {
                    $('#popover-cpassword-2').css("display", "block");
                    validPass = false
                } else {
                    validPass = true
                    $('#popover-cpassword-2').css("display", "none");
                    validateExuser()
                }

            }
        })
        });

        $('#user_phone').on({input: (function () {
            if ($('#user_phone').val().length != 10) {
                validPhone = false
                $('#popover-cnumber').css("display", "block");
                validateExuser()
            } else {
                validPhone = true
                $('#popover-cnumber').css("display", "none");
                validateExuser()
            }
        })
    });

        $('#sign-up').click(function () {
            if ($('#sign-up').prop('disabled')) {
                $('#sign-up').popover({
                    html: true,
                    trigger: 'hover',
                    placement: 'below',
                    offset: 20,
                    content: function () {
                        return $('#sign-up-popover').html();
                    }
                });
            }
            // if ($("#planFubTwillio").is(":checked") != true && $("#planFubSisu").is(":checked") != true) {
            //   swal({
            //     title: 'Plan not selected',
            //     text: 'Please select atleast one plan to signup',
            //     icon: 'warning',
            //     confirmButtonText: 'Ok'
            //   });
            //   return false;
            // }
            // else if ($("#planFubTwillio").is(":checked") == true && $("#planFubSisu").is(":checked") != true) {
            //   swal({
            //     title: 'Terms and Conditions',
            //     text: 'Please go througth',
            //     icon: 'warning',
            //     confirmButtonText: 'Ok'
            //   });
            // }
            // else if ($("#planFubReport").is(":checked") == true && $("#planFubSisu").is(":checked") != true) {
            //   swal({
            //     title: 'Terms and Conditions',
            //     text: 'Please go througth',
            //     icon: 'warning',
            //     confirmButtonText: 'Ok'
            //   });
            // }
        });

        function IsEmail(email) {
            var regex = /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            if (!regex.test(email)) {
                return false;
            } else {
                return true;
            }
        }

        function checkStrength(password) {
            var strength = 0;


            //If password contains both lower and uppercase characters, increase strength value.
            if (password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)) {
                strength += 1;
                $('.low-upper-case').addClass('text-success');
                $('.low-upper-case i').removeClass('fa-file-text').addClass('fa-check');
                $('#popover-password-top').addClass('hide');


            } else {
                $('.low-upper-case').removeClass('text-success');
                $('.low-upper-case i').addClass('fa-file-text').removeClass('fa-check');
                $('#popover-password-top').removeClass('hide');
            }

            //If it has numbers and characters, increase strength value.
            if (password.match(/([a-zA-Z])/) && password.match(/([0-9])/)) {
                strength += 1;
                $('.one-number').addClass('text-success');
                $('.one-number i').removeClass('fa-file-text').addClass('fa-check');
                $('#popover-password-top').addClass('hide');

            } else {
                $('.one-number').removeClass('text-success');
                $('.one-number i').addClass('fa-file-text').removeClass('fa-check');
                $('#popover-password-top').removeClass('hide');
            }

            //If it has one special character, increase strength value.
            if (password.match(/([!,%,&,@,#,$,^,*,?,_,~])/)) {
                strength += 1;
                $('.one-special-char').addClass('text-success');
                $('.one-special-char i').removeClass('fa-file-text').addClass('fa-check');
                $('#popover-password-top').addClass('hide');

            } else {
                $('.one-special-char').removeClass('text-success');
                $('.one-special-char i').addClass('fa-file-text').removeClass('fa-check');
                $('#popover-password-top').removeClass('hide');
            }

            if (password.length > 7) {
                strength += 1;
                $('.eight-character').addClass('text-success');
                $('.eight-character i').removeClass('fa-file-text').addClass('fa-check');
                $('#popover-password-top').addClass('hide');

            } else {
                $('.eight-character').removeClass('text-success');
                $('.eight-character i').addClass('fa-file-text').removeClass('fa-check');
                $('#popover-password-top').removeClass('hide');
            }


            // If value is less than 2

            if (strength == 0) {
                $('#result').removeClass();
                $('#result').addClass('text-danger').text('Invalid')
                $('#password-strength').css('width', '0%');
                return false;
            } else if (strength == 1) {
                $('#result').removeClass()
                $('#password-strength').addClass('progress-bar-danger');

                $('#result').addClass('text-danger').text('Invalid');
                $('#password-strength').css('width', '25%');
                return false;
            } else if (strength == 2) {
                $('#result').addClass('good');
                $('#password-strength').removeClass('progress-bar-danger');
                $('#password-strength').addClass('progress-bar-warning');
                $('#result').addClass('text-danger').text('Invalid')
                $('#password-strength').css('width', '50%');
                return false;
            } else if (strength == 3) {
                $('#result').removeClass();
                $('#password-strength').removeClass('progress-bar-danger');
                $('#password-strength').addClass('progress-bar-warning');
                $('#result').addClass('text-warning').text('Invalid')
                $('#password-strength').css('width', '75%');
                return false;
            } else if (strength == 4) {
                $('#result').removeClass()
                $('#result').addClass('strong');
                $('#password-strength').removeClass('progress-bar-warning');
                $('#password-strength').addClass('progress-bar-success');
                $('#result').addClass('text-success').text('Valid');
                $('#password-strength').css('width', '100%');

                return true;
            }

        }

    });

    function checkSubmission() {
        alert('checkSubmission');
        var email = document.getElementById("user_email").value;
        var password = document.getElementById("user_password").value;
        var password_verify = document.getElementById("user_confirm_password").value;
        checkMail_response = checkMail(email);
        verifyPassword_response = verifyPassword(password, password_verify);
        if (checkMail_response == true & verifyPassword_response == true) {
            return true;
        } else {
            Swal.fire({
                icon: 'error',
                title: 'Oops..!',
                text: 'Some Error!',
                footer: '<a href>Why do I have this issue?</a>'
            })
            return false;
        }
    }

    var password = document.getElementById("user_password")
        , confirm_password = document.getElementById("user_confirm_password");

    function validatePassword() {
        if (password.value != confirm_password.value) {
            confirm_password.setCustomValidity("Passwords Don't Match");
        } else {
            confirm_password.setCustomValidity('');
        }
    }

    password.onchange = validatePassword;
    confirm_password.onchange = validatePassword;
</script>

<script>
    $('#team_id, #user_firstName').keypress(function(event)
    {
        var kcode = event.keyCode;
        return (kcode == 8 ||
            kcode == 9 ||
            kcode == 95 ||
            (kcode > 47 && kcode < 58) ||
            (kcode > 64 && kcode < 91) ||
            (kcode > 96 && kcode < 123))
        ? true: false;     
    });
    $( document ).ready(function() {
        $( "#team_id" ).bind( 'paste',function(){
            setTimeout(function()
            { 
                //get the value of the input text
                var data = $( '#team_id' ).val() ;
                //replace the special characters to '' 
                var dataFull = data.replace(/[^\w\s]/gi, '');
                //set the new value of the input text without special characters
                $( '#team_id' ).val(dataFull);
            });

        });
    });
    var minLength = 3;
    var maxLength = 15;
    $("#team_id").on("keydown keyup change", function(){
    var value = $(this).val();
    if (value.length < minLength){
        $("#popover-team-length").text("Team ID is short");
        $("#popover-team-length").attr("style", "display:block");
        validTeamId = false;
        validateExuser()
    }
    else if (value.length > maxLength){        
        $("#popover-team-length").text("Team ID is long");
        validTeamId = false;
        validateExuser()
    }
    else{        
        $("#popover-team-length").text("Team ID is valid");
        validTeamId = true;
        validateExuser()
    }
});
</script>

</body>

</html>